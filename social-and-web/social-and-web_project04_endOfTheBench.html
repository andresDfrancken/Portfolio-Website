<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>End of the Bench — Andrés Francken</title>

  <!-- ===== FAVICON ===== -->
  <!-- Standard favicon -->
  <link rel="icon" href="../assets/favicon.ico" sizes="any">
  
  <!-- Optional SVG version (modern browsers) -->
  <link rel="icon" href="../assets/favicon.svg" type="image/svg+xml">

  <!-- Apple Touch Icon (optional but recommended) -->
  <link rel="apple-touch-icon" href="../assets/apple-touch-icon.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@500;600;700&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../css/style.css" />
</head>

<body>

<header class="site-header">
  <nav class="nav-container">

    <div class="nav-logo">
		<a href="../index.html" aria-label="Home">
        <img src="../assets/logo2026-name-textright-electricTeal.svg" alt="Andrés Francken" class="logo-img" />
      </a>
    </div>

    <button class="nav-toggle" aria-label="Toggle menu">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <ul class="nav-menu">
      <li><a href="../index.html">Home</a></li>

      <li class="has-dropdown">
        <button class="dropdown-toggle">Work ▾</button>
        <ul class="dropdown">
          <li><a href="../3d-art.html">3D Art</a></li>
          <li><a href="../design.html">Design</a></li>
          <li><a href="../photography.html">Photography</a></li>
		  <li><a href="../social-and-web.html" class="active">Social & Web</a></li>
        </ul>
      </li>

      <li><a href="../contact.html">Contact</a></li>
    </ul>

  </nav>
</header>

<main class="project-page" data-project="social-and-web_project04_endOfTheBench">

  <!-- PROJECT HERO -->
  <section class="project-hero">
    <h1>End of the Bench</h1>
    <p class="project-subtitle">
      Graphic Design / Sports Journalism
    </p>
  </section>

  <!-- STATIC HERO IMAGE -->
  <section class="project-media hero-banner">
    <img src="../assets/social-and-web/p04_endOfTheBench/social-and-web_p04_endOfTheBench_00.png" alt="End of the Bench hero image">
  </section>

  <!-- DESCRIPTION + ROLE -->
  <section class="project-info">

    <div class="project-description">
      <h3>Clients<h3>
      <p class="no-bold">Independent</p>
    </div>

    <div class="project-role">
      <h3>Role</h3>
      <p>Graphic Designer, Author</p>
    </div>

  </section>

  <!-- PROJECT DETAILS PART 1 -->
  <section class="project-details">
  	<h3>—</h3>
    <h3>Project Details</h3><br />
		<p>As a kid growing up in football-obsessed Argentina, the beautiful game was my first love
		in the world of sports, and continues to be what I follow most closely, even as the spectrum
		of the sports that I enjoy to watch has widened.<br />
		<br />
		End of the Bench was an exploration of my interest in sports journalism; a project for which
		I both wrote articles and generated graphics for my posts. My biggest series was <em>32 Days / 32 Teams</em>:
		an in-depth analysis of every nation participating in the 2018 World Cup, published in the lead-up to the
		tournament. Every team's profile was accompanied by art which was inspired by late-90s and early 2000s sports video game graphics.</p>
  </section>

	<!-- PART 1 CUSTOM LAYOUT -->

	<!-- Row 1 & 2: Full width -->
	<section class="project-section-row custom-layout">
	
	  <div class="project-section is-full">
		<div class="img-container">
		  <img src="../assets/social-and-web/p04_endOfTheBench/social-and-web_p04_endOfTheBench_01.png" alt="End of the Bench - Home Page">
		  <i class="fa fa-expand enlarge-icon"></i>
		</div>
	  </div>

	  <div class="project-section is-full">
		<div class="img-container">
		  <img src="../assets/social-and-web/p04_endOfTheBench/social-and-web_p04_endOfTheBench_02.png" alt="End of the Bench - Article Examples">
		  <i class="fa fa-expand enlarge-icon"></i>
		</div>
	  </div>
	  
	  <div class="project-section wide">
		<div class="img-container">
		  <img src="../assets/social-and-web/p04_endOfTheBench/social-and-web_p04_endOfTheBench_03.png" alt="End of the Bench - Logo">
		  <i class="fa fa-expand enlarge-icon"></i>
		</div>
	  </div>

	  <div class="project-section narrow">
		<div class="img-container">
		  <img src="../assets/social-and-web/p04_endOfTheBench/social-and-web_p04_endOfTheBench_04.png" alt="End of the Bench - Brand Icon">
		  <i class="fa fa-expand enlarge-icon"></i>
		</div>
	  </div>
	  
	</section>

    <!-- PREVIOUS / NEXT NAV -->
		<section class="project-nav">
		  <a class="prev-project" href="#">
			<img src="" alt="Previous Project Thumbnail">
			<span></span>
		  </a>
		  <a class="next-project" href="#">
			<img src="" alt="Next Project Thumbnail">
			<span></span>
		  </a>
		</section>

  </main>

  <!-- LIGHTBOX -->	
	<div id="lightbox" class="lightbox">
		<span class="close">&times;</span>
		<img class="lightbox-content" src="">
	</div>

<!-- ================= FOOTER ================= -->
<footer class="site-footer">
  <div class="footer-left">
    &copy; 2026 Andrés Francken
  </div>

	<div class="footer-center">
	  <button class="back-to-top" aria-label="Back to top">
		<!-- Primary: SVG arrow -->
		<svg class="back-to-top-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
		  <line x1="12" y1="19" x2="12" y2="5"></line>
		  <polyline points="5 12 12 5 19 12"></polyline>
		</svg>
		<!-- Fallback text arrow -->
		<span class="fallback-arrow">↑</span>
	  </button>
	</div>

  <div class="footer-right">
    <a href="../files/Andres-Francken-CV.pdf" target="_blank">Download CV</a>
    <a href="https://www.linkedin.com/in/andres-francken" target="_blank">LinkedIn</a>
  </div>
</footer>

<!-- ================= SCRIPTS ================= -->
<script>
const navToggle = document.querySelector('.nav-toggle');
const navMenu = document.querySelector('.nav-menu');
const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
const header = document.querySelector('.site-header');

// ---------------- Hamburger toggle ----------------
navToggle.addEventListener('click', () => {
  navMenu.classList.toggle('active');
  navToggle.classList.toggle('active'); // animate X
});

// ---------------- Mobile dropdown toggle ----------------
dropdownToggles.forEach(toggle => {
  const parent = toggle.closest('.has-dropdown');
  const dropdown = parent.querySelector('.dropdown');

  toggle.addEventListener('click', (e) => {
    e.preventDefault();

    // Close other open dropdowns
    dropdownToggles.forEach(otherToggle => {
      const otherParent = otherToggle.closest('.has-dropdown');
      const otherDropdown = otherParent.querySelector('.dropdown');
      if (otherDropdown !== dropdown) {
        otherParent.classList.remove('active');
      }
    });

    // Toggle this dropdown
    parent.classList.toggle('active');
  });
});

// Optional: close dropdown if clicking outside (mobile only)
document.addEventListener('click', (e) => {
  dropdownToggles.forEach(toggle => {
    const parent = toggle.closest('.has-dropdown');
    const dropdown = parent.querySelector('.dropdown');
    if (!parent.contains(e.target) && !toggle.contains(e.target)) {
      parent.classList.remove('active');
    }
  });
});

// ---------------- Navigation transparency on scroll ----------------
window.addEventListener('scroll', () => {
  if (window.scrollY > 50) {
    header.classList.add('scrolled');
  } else {
    header.classList.remove('scrolled');
  }
});

// ---------------- SCROLL-IN ANIMATION FOR GALLERY CARDS ----------------
const galleryCards = document.querySelectorAll('.gallery-card');

const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry, index) => {
    if (entry.isIntersecting) {
      setTimeout(() => {
        entry.target.classList.add('visible'); // trigger CSS animation
      }, index * 100); // staggered animation
      observer.unobserve(entry.target); // animate only once
    }
  });
}, {
  threshold: 0.2
});

galleryCards.forEach(card => observer.observe(card));

// ---------------- SMOOTH SCROLL TO TOP ----------------
const backToTopBtn = document.querySelector('.back-to-top');

backToTopBtn.addEventListener('click', () => {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});

// ---------------- HOVER VIDEOS (DESKTOP ONLY) ----------------
const isDesktop = window.matchMedia('(hover: hover) and (pointer: fine)').matches;

if (isDesktop) {
  document.querySelectorAll('.hover-video').forEach(video => {
    video.addEventListener('mouseenter', () => {
      video.play();
    });

    video.addEventListener('mouseleave', () => {
      video.pause();
      video.currentTime = 0; // return to poster
    });
  });
}

// ===== PROJECT NAVIGATION =====
const projects = [
  {
    url: "social-and-web_project01_sheridan.html",
    title: "Sheridan",
    thumb: "../assets/social-and-web/p01_sheridan/thumbTemp.png"
  },
  {
    url: "social-and-web_project02_underdog.html",
    title: "Underdog",
    thumb: "../assets/social-and-web/p02_underdog/thumbTemp.png"
  },
  {
    url: "social-and-web_project03_mightyWonders.html",
    title: "M. Wonders",
    thumb: "../assets/social-and-web/p03_mightyWonders/thumbTemp.png"
  },
  {
    url: "social-and-web_project04_endOfTheBench.html",
    title: "EotB",
    thumb: "../assets/social-and-web/p04_endOfTheBench/thumbTemp.png"
  }
];

// ===== Current page index via data attribute =====
const projectPage = document.querySelector('.project-page');

if (!projectPage) {
  console.warn('No project-page element found.');
} else {

  const currentSlug = projectPage.dataset.project;

  let currentIndex = projects.findIndex(p =>
    p.url.replace('.html', '') === currentSlug
  );

  if (currentIndex === -1) {
    console.warn("Project not found in navigation list:", currentSlug);
    currentIndex = 0; // fallback safety
  }

  // Previous / next indexes
  const prevIndex = (currentIndex - 1 + projects.length) % projects.length;
  const nextIndex = (currentIndex + 1) % projects.length;

  const prevLink = document.querySelector('.project-nav .prev-project');
  const nextLink = document.querySelector('.project-nav .next-project');

  if (prevLink && nextLink) {

    prevLink.href = projects[prevIndex].url;
    nextLink.href = projects[nextIndex].url;

    prevLink.querySelector('img').src = projects[prevIndex].thumb;
    nextLink.querySelector('img').src = projects[nextIndex].thumb;

    prevLink.querySelector('span').textContent = "← " + projects[prevIndex].title;
    nextLink.querySelector('span').textContent = projects[nextIndex].title + " →";
  }
}

// ===== LIGHTBOX (Desktop Only) =====
const lightbox = document.getElementById('lightbox');
const lightboxImg = lightbox.querySelector('.lightbox-content');
const closeBtn = lightbox.querySelector('.close');

// Function to attach lightbox listeners
function enableLightbox() {
  document.querySelectorAll('.img-container').forEach(container => {
    container.addEventListener('click', openLightbox);
  });
}

// Function to remove lightbox listeners (for mobile)
function disableLightbox() {
  document.querySelectorAll('.img-container').forEach(container => {
    container.replaceWith(container.cloneNode(true)); // removes all listeners
  });
}

// Open lightbox function
function openLightbox(e) {
  const img = e.currentTarget.querySelector('img');
  if (!img) return;
  lightbox.style.display = 'flex';
  lightboxImg.src = img.src;
}

// Close lightbox functions
function closeLightbox() {
  lightbox.style.display = 'none';
}

closeBtn.addEventListener('click', closeLightbox);

lightbox.addEventListener('click', e => {
  if (e.target === lightbox) closeLightbox();
});

document.addEventListener('keydown', e => {
  if (e.key === 'Escape' && lightbox.style.display === 'flex') {
    closeLightbox();
  }
});

// ===== Dynamic media query check =====
const mediaQuery = window.matchMedia("(max-width: 768px)");

// Function to check and toggle lightbox
function checkLightbox() {
  if (mediaQuery.matches) {
    // Mobile: remove listeners
    disableLightbox();
  } else {
    // Desktop: add listeners
    enableLightbox();
  }
}

// Run on page load
checkLightbox();

// Run whenever the viewport changes
mediaQuery.addEventListener('change', checkLightbox);

// ===== PREMIUM DRAG + INERTIA GALLERY =====

const slider = document.querySelector('.project-section-row.three-col.hybrid');

if (slider) {

  const wrapper = slider.closest('.gallery-wrapper');
  const leftArrow = wrapper.querySelector('.gallery-arrow.left');
  const rightArrow = wrapper.querySelector('.gallery-arrow.right');

  let isDown = false;
  let startX;
  let scrollLeft;
  let velocity = 0;
  let lastX;
  let momentumID;

  // ======================
  // Arrow Navigation
  // ======================

  leftArrow.addEventListener('click', () => {
    slider.scrollBy({ left: -slider.offsetWidth * 0.8, behavior: 'smooth' });
  });

  rightArrow.addEventListener('click', () => {
    slider.scrollBy({ left: slider.offsetWidth * 0.8, behavior: 'smooth' });
  });

  // ======================
  // Drag Start
  // ======================

  slider.addEventListener('mousedown', (e) => {
    isDown = true;
    slider.classList.add('dragging');

    startX = e.pageX;
    lastX = startX;
    scrollLeft = slider.scrollLeft;

    cancelMomentumTracking();
  });

  slider.addEventListener('mousemove', (e) => {
    if (!isDown) return;

    e.preventDefault();

    const x = e.pageX;
    const walk = (x - startX);
    slider.scrollLeft = scrollLeft - walk;

    velocity = x - lastX;
    lastX = x;
  });

  slider.addEventListener('mouseup', endDrag);
  slider.addEventListener('mouseleave', endDrag);

  function endDrag() {
    if (!isDown) return;
    isDown = false;
    slider.classList.remove('dragging');
    beginMomentumTracking();
  }

  function beginMomentumTracking() {
    cancelMomentumTracking();
    momentumID = requestAnimationFrame(momentumLoop);
  }

  function cancelMomentumTracking() {
    cancelAnimationFrame(momentumID);
  }

  function momentumLoop() {
    slider.scrollLeft -= velocity;
    velocity *= 0.95;

    if (Math.abs(velocity) > 0.5) {
      momentumID = requestAnimationFrame(momentumLoop);
    }
  }

}
</script>

</body>
</html>